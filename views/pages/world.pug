extends ../layout.pug

block variables 
  - var template = 'world'


block content
  .world(id=`world--${page.data.word.replace(/\s+/g, '_').toLowerCase()}` style=`background-color: ${page.data.background_color}; color: ${page.data.text_color};`)
    .world__wrapper
      .world__content
        a.world__back(href='/') Close
        
        .world__blurb !{ PrismicDOM.RichText.asHtml(page.data.blurb) }

        .world__features
          each feature in page.data.features
            .features__feature
                img.feature__image(data-src=feature.main_image.url)
                if feature.detail_image_1
                .feature__details
                  img.feature__details__image(data-src=feature.detail_image_1.url)
                  if feature.detail_image_2.hasOwnProperty('url')
                    img.feature__details__image(data-src=feature.detail_image_2.url)